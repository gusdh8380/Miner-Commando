# Miner-Commando
유니티로 개발된 탑다운뷰 픽셀아트 2D 멀티플레이 협동 게임

2024 성공회대 IT 경진대회 은상 수상


https://www.youtube.com/watch?v=Kly7gh-5nWU&t=13s

## 개요
탑 다운 뷰 멀티플레이 픽셀 아트 2D 게임으로 
황폐화된 지구를 떠나 제2의 지구를 찾아 떠나는 과정에서
생존을 위한 타 행성 자원 채굴 임무를 수행하는 Miner Commando

## 레퍼런스 게임
we need to go to deeper

https://store.steampowered.com/app/307110/We_Need_To_Go_Deeper/?l=koreana

Lovers in a Dangerous Spacetime

https://store.steampowered.com/app/252110/Lovers_in_a_Dangerous_Spacetime/

## 게임 설명
우주모함에서 탐사선을 타고 출동하는 방식으로, 우주모함에서 임무를 받고 탐사선에 탑승하여 출동합니다. 

하나의 공유 오프젝트 '탐사선'을 4명의 플레이어가 조종하면서 자원을 채굴합니다.
자원을 채굴하는 과정에서 몬스터의 위협과 환경의 방해를 헤쳐나아가야 합니다.
플레이어는 상호작용키 'F'로 여러 모듈에 탑승 및 사용할 수 있으며 자원채굴과 드랍된 자원을 인벤토리로 파밍할 수 있습니다.
다른 모듈에 탑승 및 사용하게 되면 해당 모듈에 맞게 키가 변경됩니다.
예를 들어 공격모듈에 탑승 시 공격은 스페이스바로, 공격방향전환은 방향키로 전환됩니다. 
탑승석에서 벗어나려면 F키를 다시 누르면 됩니다.

탐사선에는 여러가지 기능이 있습니다.
1. 운전석 : 탐사선의 이동을 담당합니다.
2. 공격모듈 : 탐사선에서 공격을 할 수 있습니다.
3. 특수탄약칸 : 탐사서의 공격모듈의 특수공격탄약을 채울 수 있습니다.
4. 특수탄약고 : 플레이어에게 특수탄을 제공합니다. 플레이어는 상호작용 시 플레이어에게 특수탄 1발을 얻을 수 있고 이를 특수탄약칸에 가져가서 상호작용시 공격모듈의 특수탄약의 탄수가 1 증가합니다.
5. 창고 : 채굴한 자원을 저장합니다. 일정 자원 채굴 시 자동으로 미션을 클리어하고 모함으로 돌아갑니다.
6. 전력칸 : 탐사선의 유틸 기능을 담당합니다. 각 환경에 적응하기 위한 기능을 탑재합니다.
7. 출입구 : 탐사선 내외부로 오갈 수 있습니다.


## 개발 방법
  1. 기술 스택
     Unity 2022.3.16f1, Photon Network
  2. 형상관리
     Unity Version Control
  3. 디자인
     Unity asset store, Dall-E
## 기여 및 역할
  1. 게임 시작 씬 개발 (매치메이킹 및 채팅 기능 개발)
  2. 게임 로비  개발 (채팅 기능 및 출동 기능과 UI, 임무 부여)
  3. 게임 플레이 오프젝트 네트워크 동기화 구현
  4. 로딩 씬 및 엔딩 씬 개발


## 도전 과제
   1. **플레이어들의 함께 조종하는 탐사선에 대한 구현**
        1. 상속을 통한 각 모듈(조종석)을 구현
        2. 모듈을 동시에 조종하는 경우, 각  모듈의 작동은 독립적으로 작동하되 동기화는 되도록
   2. 창고에 대한 동기화
        1. 모든 플레이어가 공유하는 인벤토리 → OnPhotonSerializeView로 실시간 관찰, 결과 동기화
   3. 게임 시작 씬(전용 서버 입장을 통해 룸 생성을 위한) 구현
        1. 룸 생성 후 호스트- 클라이언트 방식인 리슨서버로 전환
        2. 룸에서 4인 팀 구성 → 방장(호스트)가 게임 시작 → (로딩씬 이후)게임 로비로
        3. 채팅창 기능 구현
   4. 게임 로비씬 구현
        1. 스토리와 임무 부여, 행성탐사 출동를 위한 로비씬
        2. 채팅창 기능 구현
   5. 게임 로딩씬(로비 → 행성) 비동기 호출 구현 실패
        1.  비동기적 호출로 구현하려고 하였으나, 게임 입장 시 플레이어 생성에 버그를 해결하지 못해 결국 비동기적 호출이 아닌 PhotonNetwork.LoadLevel()로 씬 전환 구현


 
